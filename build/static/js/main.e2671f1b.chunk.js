(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{116:function(t,e,n){},120:function(t,e,n){"use strict";n.r(e);var c,r,a=n(0),u=n.n(a),o=n(18),i=n.n(o),s=n(13),b=n(29),l=n(30),j=n(32),f=n(31),d=n(11),O=n(37),h=n(8),m=n(21),p=n(1),g=Object(d.b)((function(t){return{isAuthenticated:m.b.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=Object(O.a)(t,["component","isAuthenticated"]);return Object(p.jsx)(h.b,Object(s.a)(Object(s.a)({},c),{},{render:function(t){return n?Object(p.jsx)(e,Object(s.a)({},t)):Object(p.jsx)(h.a,{to:"/login"})}}))})),C=Object(d.b)((function(t){return{isAuthenticated:m.b.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,c=t.restricted,r=Object(O.a)(t,["component","isAuthenticated","restricted"]);return Object(p.jsx)(h.b,Object(s.a)(Object(s.a)({},r),{},{render:function(t){return n&&c?Object(p.jsx)(h.a,{to:"/contacts"}):Object(p.jsx)(e,Object(s.a)({},t))}}))})),x=(n(65),n(47)),v=n(61),_=n.n(v),E=function(t){var e=t.children;return Object(p.jsx)("div",{className:_.a.container,children:e})},S=(n(66),n(64),n(67),n(25),n(19),n(116),n(48)),N=function(t){Object(j.a)(n,t);var e=Object(f.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(p.jsx)(E,{children:Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)(x.a,{}),children:Object(p.jsx)(h.d,{children:S.a.map((function(t,e){return t.private?Object(p.jsx)(g,Object(s.a)({},t),e):Object(p.jsx)(C,Object(s.a)(Object(s.a)({},t),{},{restricted:t.restricted}),e)}))})})})}}]),n}(a.Component),y=Object(d.b)(null,{onGetCurrentUser:m.a.getCurrentUser})(N),T=n(36),A=n(2),R=n(4),U=n(7),k=Object(A.c)([],(c={},Object(R.a)(c,U.i,(function(t,e){return e.payload})),Object(R.a)(c,U.c,(function(t,e){return[].concat(Object(T.a)(t),[e.payload])})),Object(R.a)(c,U.f,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),q=Object(A.c)(!1,(r={},Object(R.a)(r,U.b,(function(){return!0})),Object(R.a)(r,U.c,(function(){return!1})),Object(R.a)(r,U.a,(function(){return!1})),Object(R.a)(r,U.h,(function(){return!0})),Object(R.a)(r,U.i,(function(){return!1})),Object(R.a)(r,U.g,(function(){return!1})),Object(R.a)(r,U.e,(function(){return!0})),Object(R.a)(r,U.f,(function(){return!1})),Object(R.a)(r,U.d,(function(){return!1})),r)),L=n(35),D=Object(A.c)("",Object(R.a)({},L.a,(function(t,e){return e.payload}))),w=n(46),z=n(62),I=n.n(z),F=n(34),H={key:"auth",storage:I.a,whitelist:["token"]},B={auth:Object(w.a)(H,F.a),contacts:k,filter:D,loading:q},G=Object(A.a)({reducer:B,middleware:Object(T.a)(Object(A.d)({serializableCheck:!1}))}),W=Object(w.b)(G),M=n(63),Q=n(24);n(119);i.a.render(Object(p.jsx)(u.a.StrictMode,{children:Object(p.jsx)(d.a,{store:G,children:Object(p.jsx)(M.a,{loading:null,persistor:W,children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(y,{})})})})}),document.getElementById("root"))},19:function(t,e,n){"use strict";var c=n(22),r=function(t){return t.contacts},a=function(t){return t.filter},u=Object(c.a)([r,a],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),o=Object(c.a)([function(t,e){return e},r],(function(t,e){return e.find((function(e){return e.id===t}))}));e.a={getLoading:function(t){return t.loading},getContacts:r,getFilter:a,getFilteredContacts:u,getContactById:o}},20:function(t,e,n){},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var c=n(16),r=n.n(c),a=n(6);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u=function(t){r.a.defaults.headers.common.Authorization="Bearer ".concat(t)},o=function(){r.a.defaults.headers.common.Authorization=""},i={register:function(t){return function(e){e(a.a.registerRequest()),r.a.post("/users/signup",t).then((function(t){u(t.data.token),e(a.a.registerSuccess(t.data))})).catch((function(t){return e(a.a.registerError(t.message))}))}},login:function(t){return function(e){e(a.a.loginRequest()),r.a.post("/users/login",t).then((function(t){u(t.data.token),e(a.a.loginSuccess(t.data))})).catch((function(t){return e(a.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(u(n),t(a.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(e){var n=e.data;t(a.a.getCurrentUserSuccess(n))})).catch((function(e){return t(a.a.getCurrentUserError(e))})))}},logout:function(){return function(t){t(a.a.logoutRequest()),r.a.post("/users/logout").then((function(){o(),t(a.a.logoutSuccess())})).catch((function(e){return t(a.a.logoutError(e))}))}}},s={isAuthenticated:function(t){return t.auth.token},getUserEmail:function(t){return t.auth.user.email},getErrorMessage:function(t){return t.auth.error}};n(34)},25:function(t,e,n){"use strict";var c=n(16),r=n.n(c),a=n(7);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";e.a={addContact:function(t){var e=t.name,n=t.number;return function(t){t(Object(a.b)()),r.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(Object(a.c)(n))})).catch((function(e){return t(Object(a.a)(e))}))}},fetchContacts:function(){return function(t){t(Object(a.h)()),r.a.get("/contacts").then((function(e){var n=e.data;return t(Object(a.i)(n))})).catch((function(e){return t(Object(a.g)(e))}))}},deleteContact:function(t){return function(e){e(Object(a.e)()),r.a.delete("/contacts/".concat(t)).then((function(){return e(Object(a.f)(t))})).catch((function(t){return e(Object(a.d)(t))}))}}}},27:function(t,e,n){t.exports={item:"ContactListItem_item__1xzIY",contact:"ContactListItem_contact__rWWb5",btn:"ContactListItem_btn__ItH9A"}},28:function(t,e,n){},34:function(t,e,n){"use strict";var c,r,a,u=n(4),o=n(2),i=n(12),s=n(6),b={name:null,email:null},l=Object(o.c)(b,(c={},Object(u.a)(c,s.a.registerSuccess,(function(t,e){return e.payload.user})),Object(u.a)(c,s.a.loginSuccess,(function(t,e){return e.payload.user})),Object(u.a)(c,s.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(u.a)(c,s.a.logoutSuccess,(function(){return b})),c)),j=Object(o.c)(null,(r={},Object(u.a)(r,s.a.registerSuccess,(function(t,e){return e.payload.token})),Object(u.a)(r,s.a.loginSuccess,(function(t,e){return e.payload.token})),Object(u.a)(r,s.a.logoutSuccess,(function(){return null})),r)),f=Object(o.c)(null,(a={},Object(u.a)(a,s.a.registerError,(function(t,e){return e.payload})),Object(u.a)(a,s.a.loginError,(function(t,e){return e.payload})),Object(u.a)(a,s.a.logoutError,(function(t,e){return e.payload})),Object(u.a)(a,s.a.getCurrentUserError,(function(t,e){return e.payload})),Object(u.a)(a,s.a.logoutSuccess,(function(){return null})),a));e.a=Object(i.c)({user:l,token:j,error:f})},35:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("FILTER_CONTACTS");e.a=r},38:function(t,e,n){t.exports={container:"Notification_container__3-cmD",text:"Notification_text__3H0Xp",enter:"Notification_enter__vAqXg",enterActive:"Notification_enterActive__3HqGU",exit:"Notification_exit__3-zVa",exitActive:"Notification_exitActive__3ZR9r"}},44:function(t,e,n){t.exports={title:"Title_title__2WO1_",appear:"Title_appear__GeBhx",appearActive:"Title_appearActive__38m0H"}},45:function(t,e,n){},47:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0),n(97);var c=n(59),r=n.n(c),a=n(60),u=n.n(a),o=n(1),i=function(){return Object(o.jsx)("div",{className:u.a.loader,children:Object(o.jsx)(r.a,{type:"ThreeDots",color:"#f1392d",height:50,width:50})})}},48:function(t,e,n){"use strict";var c=n(0),r=[{exact:!0,path:"/",name:"Home",component:Object(c.lazy)((function(){return n.e(4).then(n.bind(null,122))})),private:!1,restricted:!1},{exact:!0,path:"/register",name:"Register",component:Object(c.lazy)((function(){return n.e(3).then(n.bind(null,123))})),private:!1,restricted:!0},{exact:!0,path:"/login",name:"Login",component:Object(c.lazy)((function(){return n.e(5).then(n.bind(null,124))})),private:!1,restricted:!0},{exact:!0,path:"/contacts",name:"Contacts",component:Object(c.lazy)((function(){return n.e(6).then(n.bind(null,125))})),private:!0,restricted:!1}];e.a=r},49:function(t,e,n){"use strict";n(0);var c=n(121),r=n(38),a=n.n(r),u=n(1);e.a=function(t){var e=t.contactExists;return Object(u.jsx)(c.a,{in:e,appear:!0,timeout:250,classNames:a.a,unmountOnExit:!0,children:Object(u.jsx)("div",{className:a.a.container,children:Object(u.jsx)("p",{className:a.a.text,children:"Contact already exists!"})})})}},58:function(t,e,n){"use strict";var c=n(49);n.d(e,"a",(function(){return c.a}))},6:function(t,e,n){"use strict";var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),l=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),f=Object(c.b)("auth/getCurrentUserRequest"),d=Object(c.b)("auth/getCurrentUserSuccess"),O=Object(c.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:a,registerError:u,loginRequest:o,loginSuccess:i,loginError:s,logoutRequest:b,logoutSuccess:l,logoutError:j,getCurrentUserRequest:f,getCurrentUserSuccess:d,getCurrentUserError:O}},60:function(t,e,n){t.exports={loader:"Loader_loader__1V4wz"}},61:function(t,e,n){t.exports={container:"Layout_container__1WS90"}},64:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));n(0);var c=n(11),r=n(126),a=n(121),u=n(13),o=n(19),i=n(25),s=n(27),b=n.n(s),l=n(1),j=Object(c.b)((function(t,e){var n=o.a.getContactById(t,e.id);return Object(u.a)({},n)}),(function(t,e){return{deleteContact:function(){return t(i.a.deleteContact(e.id))}}}))((function(t){var e=t.name,n=t.number,c=t.deleteContact;return Object(l.jsxs)("li",{className:b.a.item,children:[Object(l.jsx)("p",{className:b.a.contact,children:e}),Object(l.jsx)("p",{className:b.a.contact,children:n}),Object(l.jsx)("button",{type:"button",className:b.a.btn,onClick:c,children:"X"})]})})),f=n(45),d=n.n(f),O=Object(c.b)((function(t){var e=t.contacts,n=t.filter;return{searchContact:e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}}))((function(t){var e=t.searchContact;return Object(l.jsx)(r.a,{component:"ul",className:d.a.list,children:e.map((function(t){var e=t.id;t.name,t.number;return Object(l.jsx)(a.a,{timeout:250,classNames:d.a,children:Object(l.jsx)(j,{id:e})},e)}))})}))},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var c=n(121),r=n(44),a=n.n(r),u=n(1),o=function(t){var e=t.title;return Object(u.jsx)(c.a,{in:!0,appear:!0,timeout:500,classNames:a.a,children:Object(u.jsx)("h2",{className:a.a.title,children:e})})}},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var c=n(4),r=n(29),a=n(30),u=n(32),o=n(31),i=n(0),s=n(20),b=n.n(s),l=n(11),j=n(58),f=n(25),d=n(19),O=n(1),h=function(t){Object(u.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return(t=e.call.apply(e,[this].concat(u))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,r=n.name,a=n.value;t.setState(Object(c.a)({},r,a))},t.handleSubmit=function(e){e.preventDefault();var n={name:t.state.name,number:t.state.number};if(t.props.contacts.find((function(t){return t.name===n.name})))return t.setState({contactExists:!0}),void setTimeout((function(){return t.setState({contactExists:!1})}),1500);t.props.addContact(n),t.setState({name:"",number:""})},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.contactExists;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{contactExists:c}),Object(O.jsxs)("form",{className:b.a.form,onSubmit:this.handleSubmit,children:[Object(O.jsxs)("label",{className:b.a.label,children:["Name",Object(O.jsx)("input",{type:"text",value:e,name:"name",onChange:this.handleChange,placeholder:"Enter your full name",className:b.a.input,required:!0})]}),Object(O.jsxs)("label",{className:b.a.label,children:["Number",Object(O.jsx)("input",{type:"text",value:n,name:"number",onChange:this.handleChange,placeholder:"xxx-xx-xx",className:b.a.input,required:!0})]}),Object(O.jsx)("input",{type:"submit",value:"Add contact",className:b.a.button})]})]})}}]),n}(i.Component),m={addContact:f.a.addContact},p=Object(l.b)((function(t){return{contacts:d.a.getContacts(t)}}),m)(h)},67:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(0);var c=n(28),r=n.n(c),a=n(121),u=n(11),o=n(35),i=(n(19),n(1)),s={filterContact:o.a},b=Object(u.b)((function(t){return{filter:t.filter,contacts:t.contacts}}),s)((function(t){var e=t.filter,n=t.filterContact,c=t.contacts;return Object(i.jsx)(a.a,{in:c.length>1,appear:!0,timeout:250,unmountOnExit:!0,classNames:r.a,children:Object(i.jsx)("div",{className:r.a.container,children:Object(i.jsxs)("label",{className:r.a.label,children:["Find contacts by name",Object(i.jsx)("input",{className:r.a.input,onChange:function(t){return n(t.target.value)},value:e})]})})})}))},7:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return j}));var c=n(2),r=Object(c.b)("ADD_CONTACT_REQUEST"),a=Object(c.b)("ADD_CONTACT_SUCCESS"),u=Object(c.b)("ADD_CONTACT_ERROR"),o=Object(c.b)("FETCH_CONTACTS_REQUEST"),i=Object(c.b)("FETCH_CONTACTS_SUCCESS"),s=Object(c.b)("FETCH_CONTACTS_ERROR"),b=Object(c.b)("DELETE_CONTACT_REQUEST"),l=Object(c.b)("DELETE_CONTACT_SUCCESS"),j=Object(c.b)("DELETE_CONTACT_ERROR")}},[[120,1,2]]]);
//# sourceMappingURL=main.e2671f1b.chunk.js.map